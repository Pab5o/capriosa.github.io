

<!DOCTYPE html>
<!--[if lte IE 8]> <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <title>mdwp - Web Consulting & Services</title>
    <meta name="description" content="mdwp">
    <meta name="author" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>

    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="apple-touch-icon-144x144-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="apple-touch-icon-120x120-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="apple-touch-icon-114x114-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="apple-touch-icon-72x72-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" href="apple-touch-icon-precomposed.png" />



    <link href="/favicon.ico" rel="icon" type="image/ico" />

    <link href="/stylesheets/screen.css?1427793011" rel="stylesheet" type="text/css" />
    <script src="/javascripts/libs/jquery-1.9.0.min.js?1426066897" type="text/javascript"></script>

    <script>
    $(window).scroll(function() {
      if ($(this).scrollTop() > 60){
        $('.proxy-navigation').show(300);
      }
      else{
        $('.proxy-navigation').hide(300);
      }
    });
    </script>
  </head>

  <body class="so-kann-man-irren so-kann-man-irren_index">

  <header>
    <div class="sub-nav-wrapper">
    <div class="sub-nav">
      <ul class="proxy-navigation">
        <li><a href="/">mdwp.de</a></li>
        <li><a href="/about-us">Über Uns</a></li>
        <li><a href="/referenzen">Referenzen</a></li>
        <li><a href="/kontakt">Kontakt</a></li>
        <li><a href="/impressum">Impressum</a></li>

      </ul>
    <ul class="sub-navigation">
      <li><a href="https://github.com/capriosa/"><i class="fa fa-github"></i></a></li>
      <li><a href="https://www.facebook.com/meinolf.droste"><i class="fa fa-facebook"></a></i></li>
      <li><a href="https://www.linkedin.com/profile/view?id=18021759"><i class="fa fa-linkedin"></i></a></li>
      <li><a href="https://twitter.com/mdwp"><i class="fa fa-twitter"></i></a></li>
      <li><a href="tel://023313961691"><i class="fa fa-phone"></i><span>02331 3961691</span></a></li>
      <li><a href="mailto://post@mdwp.de"><i class="fa fa-envelope"></i><span>post@mdwp.de</span></a></li>
    </ul>
    </div>
    </div>

    <nav class="nav-wrapper">
      <div class="sub-nav">

      <ul class="navigation">
        <li><a href="/"><img src="/images/mdwp-logo.png?1426066897" /></a></li>
        <li><a href="/">mdwp.de</a></li>
        <li><a href="/about-us">Über Uns</a></li>
        <li><a href="/referenzen">Referenzen</a></li>
        <li><a href="/kontakt">Kontakt</a></li>
        <li><a href="/impressum">Impressum</a></li>

      </ul>

      </div>
    </nav>

  </header>
    <div class="grid">
      <div class="page">
        <article>
<h1>So kann man irren</h1>
<p>So kann man irren</p>

<p>Heute möchte ich mich mit einer optimalen Drupal Installation beschäftigen.
Diese muss meines Erachtens eines der besten Drupal Features nutzen:
die Multisite Installation.
Was bedeutet Multisite Installation. Nun, ganz einfach. Wir installieren Drupal in unser Server Root und finden danach in diesem Verzeichnis ein Unterverzeichnis mit dem Namen ‘sites’. Darunter befindet sich das Verzeichnis ‘default’ mit der Datei ‘settings.php’. Standardmäßig tragen wir in diese Datei unsere Datenbankeinstellungen (‘mysql://username:password@localhost/databasename’) und die base URL unseres Servers ein.
Möchten wir nun mit einer Drupal Installation weitere Sites betreiben, müssen wir nur folgendes tun:
Unterhalb des Verzeichnisses ‘sites’ richten wir für jede andere Domain, Subdomain oder Unterverzeichnis der Hauptdomain Verzeichnisse nach folgendem Muster ein.
otherdomain.com - für eine andere Domain
subdomain.example.com - für eine Subdomain
example.com.sandbox - für ein Unterverzeichnis
In jedem dieser Verzeichnisse muss sich eine Datei ‘settings.php’ mit den entsprechenden Einträgen für die Datenbank und die jeweilige ‘base url’ befinden. Um die Dinge einfach zu halten, gehe ich von einer Datenbank pro Site aus. Andere Varianten sind aber auch möglich.
Eine Multisite Installation hat folgende Vorteile:
* Wir können uns eine Sandbox zum ausprobieren einrichten
* Bei einem Drupal-Upgrade (problematisch sind ja immer Änderungen an der DB) können wir dieses zuerst hier testen
* Unseren Kunden können wir schnell Prototypen (Wireframes) zur Verfügung stellen
* Auf einer Project-Site können wir mit Kunden über das Projekt diskutieren
In meinem Blogeintrag Wasserdichte Drupal Updates habe ich Vorgehensweisen für Drupal Updates beschrieben.
Wie führen wir aber Updates einer Multisite-Installation durch?</p>

<p>Und jetzt kommt der Haken</p>

<p>Ganz einfach: das update.php Script aus dem Drupal Root Verzeichnis kopieren wir in das jeweilige ‘sites/unterverzeichnis’ und rufen es dann im Browser auf. Beispiel für eine Subdomain:subdomain.example.com/update.php.</p>

<p><strong>Das war natürlich Quatsch was ich damals geschrieben habe</strong>. Die update.php muss nicht kopiert werden! Man kann natürlich für jede Domain oder Subdomain einer Drupal Multisite Installation, immer die update.php aus dem Drupal Root aufrufen. Durch die Angaben in der settings.php weiß Drupal, welche Datenbank zu aktualisieren ist</p>

</article>

      </div>
    <aside class="sidebar">
      <section>
        <header>
          <h2>Drupal</h2>
        </header>
        <ul class="side-navigation">

          <li><a href="/drupal">Drupal</a></li>
          <li><a href="/backdrop">Backdrop</a></li>
          <li><a href="/hosting">Hosting</a></li>
          <li><a href="/archiv">Archiv</a></li>
        </ul>

      </section>

        <section>
          <header>
            <h2>Statische Websites</h2>
          </header>
          <ul class="side-navigation">

            <li><a href="/contentful">Contentful CMS</a></li>
            <li><a href="/middleman">Middleman</a></li>
            <li><a href="/static-hosting">Hosting</a></li>
          </ul>

        </section>
        <section>
        <header>
          <h2>Mehr</h2>
        </header>
        <ul class="side-navigation">

          <li><a href="/m-droste">Über M. Droste</a></li>
          <li><a href="/news">News</a></li>
          <li><a href="/microblog">Microblog</a></li>
          <li><a href="/technik">Technik/Programmierung</a></li>
        </ul>

      </section>
      <section>
        <h2 id="recent">Recent</h2>
<ul class="side-navigation">

  <li>
    <a href="caas">CaaS</a>
  </li>



  <li>
    <a href="contentful-and-zapier-integration">Contentful and Zapier Integration</a>
  </li>



  <li>
    <a href="20000-founding-members-on-thrgrid-io">20000+ founding members on thrgrid.io</a>
  </li>



  <li>
    <a href="301-redirects-fuer-middleman-und-netlify">301 redirects für middleman und netlify</a>
  </li>



  <li>
    <a href="static-cms">Static CMS</a>
  </li>


</ul>

      </section>
    </aside>
  </div>
  <footer>
    <div class="footer-inner">
      <div class="footer-first">
        <img alt="mdwp - Web consulting and services" src="/images/mdwp.gif?1426152095" />
      </div>
      <div class="footer-second">
        &copy 2005 - 2015 mdwp: Web Consulting und Services
      </div>
    </div>
  </footer>
    <script src="/javascripts/plugins.js?1426153952" type="text/javascript"></script><script src="/javascripts/script.js?1426153951" type="text/javascript"></script>

    <!-- put your analytics here -->
  </body>
</html>
